<mvc:View
    controllerName="helloworld.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns:t="sap.ui.table"
	xmlns:c="sap.ui.core"
    displayBlock="true"
    xmlns="sap.m"
	c:require="{
      statusIconFormatter: 'helloworld/model/formatter/statusIcon'
    }"
>
	<Shell id="shell">
		<App id="app">
			<pages>
				<Page
					title="{i18n>appTitle}"
					enableScrolling="false"
				>
					<content>
						<t:Table
							id="table"
							rows="{
								path: '/HelloWorldSet',
								parameters: { operationMode: 'Server' },
								sorter: {
									path: 'date',
									descending: true
								}
							}"
							rowHeight="30"
							enableBusyIndicator="true"
							visibleRowCountMode="Auto"
							alternateRowColors="true"
						>
							<t:rowSettingsTemplate>
								<t:RowSettings
									highlight="{
										path: 'status',
										formatter: '.formatter.highlightColor'	
									}"
								/>
							</t:rowSettingsTemplate>
							<t:extension>
								<OverflowToolbar style="Clear">
									<Text text="{i18n>LastUpdateDate}" />
									<Text
										text="{
											path: 'main>/last_update_date',
											formatter: '.formatter.datetime'
										}"
									/>
									<ToolbarSpacer/>
									<Button
										icon="sap-icon://refresh"
										tooltip="{i18n>Refresh}"
										press=".onRefresh"/>
								</OverflowToolbar>
							</t:extension>
							<t:columns>
								<t:Column
									width="4rem"
									hAlign="Center"
								>
									<Label text="{i18n>Status}"/>
									<t:template>
										<c:Icon
											src="{
												path: 'status',
												formatter: 'statusIconFormatter'	
											}"
										/>
									</t:template>
								</t:Column>
								<t:Column
									sortProperty="id"
									width="5rem"
									hAlign="Center"
								>
									<Label text="{i18n>ID}"/>
									<t:template>
										<Text
											text="{id}"
											wrapping="false"
										/>
									</t:template>
								</t:Column>
								<t:Column
									sortProperty="name"
									width="5rem"
								>
									<Label text="{i18n>Process}"/>
									<t:template>
										<Text
											text="{name}"
											wrapping="false"
										/>
									</t:template>
								</t:Column>
								<t:Column
									sortProperty="date"
									sorted="true"
									sortOrder="Descending"
								>
									<Label text="{i18n>Date}"/>
									<t:template>
										<Text
											text="{
												path: 'date',
												formatter: '.formatter.date'
											}"
											wrapping="false" />
									</t:template>
								</t:Column>
							</t:columns>
						</t:Table>
					</content>
				</Page>
			</pages>
		</App>
	</Shell>
</mvc:View>
